<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper SYSTEM "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.igeek.ps.mapper.RoleMapper">

    <!--  角色映射 -->
    <resultMap id="BaseMap" type="Role">
        <id column="r_id" property="id" />
        <result column="r_name" property="name"/>
    </resultMap>

    <!-- 条件 + 查看所有角色列表 -->
    <select id="findAll" parameterType="String" resultMap="BaseMap">
        select * from t_role where r_name like concat('%',#{name},'%')
    </select>

    <!-- 插入角色 当前id是自增长 -->
    <insert id="insert" parameterType="Role">
        <selectKey resultType="Integer" keyProperty="id" order="AFTER">
            select LAST_INSERT_ID()
        </selectKey>
        insert into t_role(r_name) values(#{name})
    </insert>

</mapper>
